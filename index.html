<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Todo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#6ee7b7;
      --muted:#9aa6b2;
      --danger:#ff6b6b;
    }

    html,body{
      height:100%;
      background: linear-gradient(180deg,#071029 0%, #0f1724 100%);
      color:#e6eef6;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    .container{
      max-width:900px;
      margin-top:40px;
    }

    header h1{
      letter-spacing:0.4px;
      font-weight:600;
      color:var(--accent);
    }

    .card-todo{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.012));
      border: 1px solid rgba(255,255,255,0.04);
      box-shadow: 0 6px 18px rgba(2,6,23,0.6);
      border-radius:10px;
      padding:10px;
    }

    form.create-form .form-control{
      background: transparent;
      border: 1px solid rgba(255,255,255,0.06);
      color: #e6eef6;
      height:46px;
    }

    .list-group-item{
      background: transparent;
      border: none;
      border-bottom: 1px dashed rgba(255,255,255,0.03);
      padding:12px 8px;
    }

    .todo-title{
      font-size:1rem;
      display:block;
      color:#e9fbf0;
      margin-bottom:4px;
    }

    .todo-sub{
      color:var(--muted);
      font-size:0.85rem;
    }

    .completed .todo-title{
      text-decoration: line-through;
      color: rgba(255,255,255,0.45);
      opacity:0.85;
    }

    .btn-outline-success{
      border-color: rgba(110,231,183,0.18);
      color: var(--accent);
      background: transparent;
    }

    .btn-outline-danger{
      border-color: rgba(255,107,107,0.12);
      color: var(--danger);
      background: transparent;
    }

    .btn:focus{ box-shadow: none; }

    .empty-msg{
      color:var(--muted);
      padding:18px 8px;
      text-align:center;
    }

    @media (max-width:576px){
      .btn-group{ display:flex; gap:6px; }
      .create-form .col-md-4, .create-form .col-md-6{ flex:1 1 100%; }
    }
  </style>
</head>
<body class="p-4">
  <div class="container">
    <header class="mb-4 d-flex justify-content-between align-items-center">
      <h1>Todo list</h1>
      <small class="text-muted">Simple Flask + SQLite</small>
    </header>

    <div class="card-todo mb-4">
      <form action="{{ url_for('create') }}" method="post" class="row g-2 mb-0 create-form align-items-center">
        <div class="col-md-4">
          <input class="form-control" name="title" placeholder="Title" required>
        </div>
        <div class="col-md-6">
          <input class="form-control" name="task" placeholder="Task" required>
        </div>
        <div class="col-auto">
          <button class="btn btn-primary">Add</button>
        </div>
      </form>
    </div>

    <ul class="list-group">
      {% for t in todos %}
      <li class="list-group-item d-flex justify-content-between align-items-center {% if t.completed %}completed{% endif %}">
        <div>
          <strong class="todo-title">{{ t.title }}</strong>
          <div class="todo-sub">{{ t.task }}</div>
        </div>
        <div class="btn-group">
          <form action="{{ url_for('toggle', task_id=t.id) }}" method="post" style="display:inline">
            <button class="btn btn-sm btn-outline-success">{{ 'Undo' if t.completed else 'Done' }}</button>
          </form>
          <form action="{{ url_for('delete', task_id=t.id) }}" method="post" style="display:inline">
            <button class="btn btn-sm btn-outline-danger">Delete</button>
          </form>
        </div>
      </li>
      {% else %}
      <li class="list-group-item empty-msg">No tasks yet.</li>
      {% endfor %}
    </ul>
  </div>
</body>
</html>